# 공통 규칙
## common header
```json
{"authorization": "Bearer ACCESS_TOKEN"}
```
## common response model
```json
// success
{
	"result": true,
	"data": data model
}

// fail
{
	"result": false,
	"error": {
		"code": 9999,
		"msg": "unknown"
	}
}
```

# users
## post
### path: users/
#### body
```json
{"nick": "name"}
```
#### response data
- User model

## get
### path: users/
#### response data
```json
{"users": [User model]}
```

### path: users/:id
#### response data
- User model

### path: users/me
#### response data
- User model

### path: users/search
#### query
- nick
#### response data
```json
{"users": [User model]}
```

### path: users/favorites
#### response data
```json
{"product_ids": Product Id Array}
```

## put
### path: users/me
#### body
```json
{"nick": "nick name"}
```

## delete
### path: users/me
#### response data
- null

# products
## post
### path: products/
#### body
```json
{"name": "product name",
"desc": String(Optional),
"type": 1,
"barcode_id": optional}
```
#### response data
- Product model
### path: products/favorite
#### body
```json
{"product_id": "product name",
"is_favorite": true
```

#### response data
- null

## get
### path: products/:id
#### response data
```json
{"product": Product model,
"image_ids": [ProductImage id],
"favorite_count": count,
"note_count": count}
```

### path: products/barcode/:barcode_id
#### response data
```json
{"product": Product model,
"image_ids": [ProductImage id],
"favorite_count": count,
"note_count": count}
```

### path: products/
#### query
- page
- per
- name(optional)
#### response data
```json
{"products": [
  {"product": Product model,
  "image_ids": [ProductImage id(최대 3개)]}
]}
```

### path: products/favorite
#### query
- page
- per
#### response data
```json
{"products": [
  {"product": Product model,
  "image_ids": [ProductImage id(최대 3개)]}
]}
```

## put
## delete
### path: products/:id(안씀)
#### response data
- null

# notes
## post
### path: notes/
#### body
```json
{"product_id": "product_id",
"body": "body",
"rating": 10,
"selectedFlavors": [1, 2, 3],
"image_ids": [ProductImage id],
"is_public": true}
```
#### response data
- Note model

## get
### path: notes/:id
#### response data
```json
{"note": Note model,
"product": Product model,
"user": User model(Optional),
"image_ids": [ProductImage id]}
```

### path: notes/
#### query
- page
- per
- product_id(optional)
#### response data
```json
{"notes": [
  {"note": Note model,
  "product": Product model,
  "user": User model(Optional),
  "image_ids": [ProductImage id](최대 3개)}
]}
```

### path: notes/user/:id
#### query
- page
- per
#### response data
```json
{"notes": [
  {"note": Note model,
  "product": Product model,
  "user": User model(Optional),
  "image_ids": [ProductImage id](최대 3개)}
]}
```

## put
### path: notes/:id
#### body
- Note model

## delete
### path: notes/:id
#### response data
- null

# images
## get
### path: images/
#### query
- page
- per
- product_id(optional)
#### response data
```json
{
	"ids": ["7c9e6679-7425-40de-944b-e07fc1f90ae7", ...]
}
```
## post
### path: images/
#### header
- Content-Type: multipart/form-data
#### body
```json
{"product_id": product_id(Optional)
"note_id": note_id(Optional)}
```
#### response data
```json
{
	"id": "7c9e6679-7425-40de-944b-e07fc1f90ae7"
}
```
## delete
### path: images/:id
#### response data
- null

# btn
## get
### path: btn/home
#### response data
```json
{"recentNotes": [{
	"note": Note model,
	"product": Product model,
	"user": User model,
	"image_ids": [ProductImage id]
}],
"recentProducts": [{
	"product": Product model,
	"image_ids": [ProductImage id]
}]}
```